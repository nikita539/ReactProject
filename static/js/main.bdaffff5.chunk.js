(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{19:function(e,t,r){e.exports={Login:"log_in_Login__3a6jN"}},20:function(e,t,r){e.exports={Register:"register_Register__1oefD",Button:"register_Button__3o_Gt",Password:"register_Password__1pEoQ"}},21:function(e,t,r){e.exports={password_recovery:"password_recovery_password_recovery__1YL-i",spinner:"password_recovery_spinner__2xgaR"}},24:function(e,t,r){e.exports={Navbar:"navbar_Navbar__vHal0"}},46:function(e,t,r){},47:function(e,t,r){},53:function(e,t,r){e.exports={Profile:"Profile_Profile__1icDB"}},73:function(e,t,r){e.exports={NewPassword:"new_password_NewPassword__IWeTR"}},74:function(e,t,r){e.exports={Four:"404_Four__1IPCT"}},76:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(16),s=r.n(n),c=(r(46),r(47),r(7)),i=r(24),o=r.n(i),l=r(0),d="/Profile",j="/Log_in",u="/Register",b="/New_Password",m="/PasswordRecovery",h="/404",O="/Table",p=function(){return Object(l.jsx)("div",{className:o.a.Navbar,children:Object(l.jsxs)("ul",{className:"nav nav-tabs",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(c.b,{to:d,className:"nav-link",children:"Profile"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(c.b,{to:j,className:"nav-link",children:"Log_in"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(c.b,{to:u,className:"nav-link",children:"Register"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(c.b,{to:b,className:"nav-link",children:"New_Password"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(c.b,{to:m,className:"nav-link",children:"Password recovery"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(c.b,{to:O,className:"nav-link",children:"Table"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(c.b,{to:h,className:"nav-link",children:"404"})})]})})},f=r(3),v=(r(53),r(5)),x=r(4),g=r(39),w=r.n(g).a.create({baseURL:"http://localhost:7542/2.0/",withCredentials:!0}),N=function(e,t){return w.post("auth/login",{email:e,password:t})},y=function(e,t){return w.post("auth/register",{email:e,password:t})},E=function(e){return w.post("auth/forgot",{email:e,from:"dmytrostorozhenko1994@gmail.com",message:"<div>Your password recover link is <a href='http://localhost:3000/#/set-new-password/$token$'>here</a></div>"})},R=function(){return w.post("auth/me")},P={name:"",avatar:""},_=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.profileDate}));return Object(a.useEffect)((function(){e((function(e){R().then((function(t){e({type:"GET-PROFILE-DATA",name:t.data.name,avatar:t.data.avatar})})).catch((function(e){}))}))}),[]),Object(l.jsxs)("div",{className:"Profile",children:[Object(l.jsx)("h1",{children:"Profile"}),Object(l.jsx)("div",{children:t.name}),Object(l.jsx)("div",{children:Object(l.jsx)("img",{src:t.avatar,alt:"hello"})})]})},S=r(6),C=r(19),k=r.n(C),I=function(e){var t=Object(v.c)((function(e){return e.error}));return Object(l.jsxs)("div",{style:{width:"100%",height:"200px"},children:[Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("input",{type:"email",className:t.emailError?"form-control is-invalid":"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Email",value:e.email,onChange:e.emailChange}),t.emailError&&Object(l.jsx)("div",{style:{color:"red"},children:t.emailError})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("input",{type:"password",className:t.passwordError?"form-control is-invalid":"form-control",id:"exampleInputPassword1",placeholder:"Password",value:e.password,onChange:e.passwordChange}),t.passwordError&&Object(l.jsx)("div",{style:{color:"red"},children:t.passwordError})]}),Object(l.jsx)("div",{className:"mb-3 form-check",children:Object(l.jsx)(c.b,{to:"/PasswordRecovery",style:{textDecoration:"none"},children:"forgot password"})}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(){e.logIn()},children:"Submit"})]})},L={emailError:"",passwordError:""},T=function(e){return{type:"ERROR-EMAIL",errorMessage:e}},F=function(e){return{type:"ERROR-PASSWORD",errorMessagePassword:e}},D=function(e,t,r){return{type:"LOGIN",email:e,password:t,verified:r}},A=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.logIn}));console.log(t.email),console.log(t.verified);var r=Object(a.useState)(""),n=Object(S.a)(r,2),s=n[0],c=n[1],i=Object(a.useState)(""),o=Object(S.a)(i,2),j=o[0],b=o[1];return"true"===t.verified?Object(l.jsx)(f.a,{to:d}):"false"===t.verified?Object(l.jsx)(f.a,{to:u}):Object(l.jsxs)("div",{className:k.a.Login,children:[Object(l.jsx)("h1",{className:k.a.H1,children:"Login"}),Object(l.jsx)(I,{password:j,email:s,emailChange:function(e){c(e.currentTarget.value)},passwordChange:function(e){b(e.currentTarget.value)},logIn:function(){s||j?/\S+@\S+\.\S+/.test(s)?j?j.length<5?F(" "):e(function(e,t){return function(r){N(e,t).then((function(a){console.log(a.data),r(D(e,t,"true"))})).catch((function(a){r(D(e,t,"false"))}))}}(s,j)):e(F("enter password")):e(T("email is not valid")):(e(T("enter email,please")),e(F("enter password,please")))}})]})},B={isRegistered:!1,setError:""},G=function(e){return{type:"ERROR",error:e}},M=r(20),H=r.n(M),U=function(e){var t=Object(v.c)((function(e){return e.register.setError}));return Object(l.jsxs)("div",{className:H.a.Register,children:[Object(l.jsx)("div",{children:Object(l.jsx)("input",{type:"email",className:"form-control ".concat(t&&"is-invalid"),id:"floatingInput",placeholder:"Login",value:e.email,onChange:function(t){e.setEmail(t.currentTarget.value)}})}),Object(l.jsx)("div",{className:H.a.Password,children:Object(l.jsx)("input",{type:"password",className:"form-control ".concat(t&&"is-invalid"),id:"floatingPassword",placeholder:"Password",value:e.password,onChange:function(t){e.setPassword(t.currentTarget.value)}})}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{type:"password",className:"form-control ".concat(t&&"is-invalid"),id:"floatingPassword",placeholder:"Confirm password",value:e.confirmPassword,onChange:function(t){e.setConfirmPassword(t.currentTarget.value)}})}),t,Object(l.jsx)("div",{className:H.a.Button,children:Object(l.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.signUp()},children:"Sign up"})})]})},W=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.register.isRegistered})),r=Object(v.c)((function(e){return e.register.setError})),n=Object(a.useState)(""),s=Object(S.a)(n,2),c=s[0],i=s[1],o=Object(a.useState)(""),d=Object(S.a)(o,2),u=d[0],b=d[1],m=Object(a.useState)(""),h=Object(S.a)(m,2),O=h[0],p=h[1];return Object(l.jsxs)(l.Fragment,{children:[t&&Object(l.jsx)(f.a,{to:j}),Object(l.jsxs)("div",{className:"Register",children:[Object(l.jsx)("h1",{children:"Register"}),Object(l.jsx)(U,{email:c,password:u,confirmPassword:O,setConfirmPassword:function(e){p(e)},setEmail:function(e){i(e)},setPassword:function(e){b(e)},signUp:function(){if(c)if(/\S+@\S+\.\S+/.test(c))if(u!=O)e(G("Password confirmation does not match"));else{if(u.length<6)return e(G("Password must be 6 or more characters")),r;e(function(e,t){return function(r){y(e,t).then((function(e){r({type:"REGISTER",isRegistered:!0})})).catch((function(e){r(G(e.error))}))}}(c,u))}else e(G("Please, enter correct email"));else e(G("Email address is required"))}})]})]})},q=(r(73),function(){return Object(l.jsx)("div",{className:"NewPassword"})}),z=(r(74),function(){return Object(l.jsx)("div",{className:"Four",children:Object(l.jsx)("div",{style:{color:"red",fontSize:"60px"},children:"404"})})}),J=r(28),Y=r.n(J),$=r(40),Q=r(21),V=r.n(Q);function K(e){var t={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email address is invalid"):t.email="Email address is required",t}var X=r(18),Z=function(){var e=Object(a.useState)(""),t=Object(S.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)(!1),c=Object(S.a)(s,2),i=c[0],o=c[1],d=function(e,t){var r=Object(a.useState)({}),n=Object(S.a)(r,2),s=n[0],c=n[1],i=Object(a.useState)({}),o=Object(S.a)(i,2),l=o[0],d=o[1],j=Object(a.useState)(!1),u=Object(S.a)(j,2),b=u[0],m=u[1];return Object(a.useEffect)((function(){0===Object.keys(l).length&&b&&e()}),[l]),{handleChange:function(e){e.persist(),c((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(X.a)({},e.target.name,e.target.value))}))},handleSubmit:function(e){e&&e.preventDefault(),d(t(s)),m(!0)},values:s,errors:l}}(function(){var e=Object($.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,E(j.email);case 4:t=e.sent,n(t.data.info),j.email="",e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),u.email=e.t0.response.data.error;case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),K),j=d.values,u=d.errors,b=d.handleChange,m=d.handleSubmit;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:V.a.password_recovery,children:[Object(l.jsxs)("p",{children:["Enter your email address",Object(l.jsx)("br",{}),"to recover your password"]}),Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:m,noValidate:!0,children:[Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("input",{type:"email",name:"email",value:j.email||"",className:"form-control ".concat(u.email&&"is-invalid"),placeholder:"Email","aria-describedby":"emailHelp",onChange:b,disabled:i,autoComplete:"off"}),u.email&&Object(l.jsx)("div",{className:"invalid-feedback",children:u.email}),r&&Object(l.jsx)("div",{className:V.a.responseMessage,children:r}),i&&Object(l.jsx)("div",{className:"spinner-border ".concat(V.a.spinner),role:"status",children:Object(l.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]}),Object(l.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Send"})]})})]})})},ee=function(e){return w.get("cards/pack",{params:e})},te=function(){var e=Object(a.useState)([]),t=Object(S.a)(e,2),r=t[0],n=t[1];Object(a.useEffect)((function(){ee({}).then((function(e){console.log(e.data),n(e.data.cardPacks)}))}),[]);var s=r.map((function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:e.cardsCount}),Object(l.jsx)("td",{children:e.name}),Object(l.jsx)("td",{children:e.user_name}),Object(l.jsx)("td",{children:e.rating}),Object(l.jsx)("th",{children:Object(l.jsx)("button",{style:{width:"20px",height:"20px"}})})]})}));return Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"col",children:"#"}),Object(l.jsx)("th",{scope:"col",children:"First"}),Object(l.jsx)("th",{scope:"col",children:"Last"}),Object(l.jsx)("th",{scope:"col",children:"Handle"}),Object(l.jsx)("th",{scope:"col",children:"Buttons"})]})}),Object(l.jsx)("tbody",{children:s})]})};var re=function(){return Object(l.jsx)(c.a,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(p,{}),Object(l.jsxs)("div",{className:"RenderPlace",children:[Object(l.jsx)(f.b,{path:d,component:_}),Object(l.jsx)(f.b,{path:j,component:A}),Object(l.jsx)(f.b,{path:u,component:W}),Object(l.jsx)(f.b,{path:b,component:q}),Object(l.jsx)(f.b,{path:m,component:Z}),Object(l.jsx)(f.b,{path:h,component:z}),Object(l.jsx)("div",{className:"TableRender",children:Object(l.jsx)(f.b,{path:O,component:te})})]})]})})},ae=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,77)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),a(e),n(e),s(e),c(e)}))},ne=r(14),se=r(41),ce=Object(ne.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Nikita",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Add":default:return e}},logIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{email:"",password:"",verified:"none"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return{email:t.email,password:t.password,verified:t.verified};case"RESET":return Object(x.a)(Object(x.a)({},e),{},{verified:"none"});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER":return Object(x.a)(Object(x.a)({},e),{},{isRegistered:t.isRegistered});case"ERROR":return Object(x.a)(Object(x.a)({},e),{},{setError:t.error});default:return e}},profileDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET-PROFILE-DATA":return Object(x.a)(Object(x.a)({},e),{},{name:t.name,avatar:t.avatar});default:return Object(x.a)({},e)}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR-EMAIL":return Object(x.a)(Object(x.a)({},e),{},{emailError:t.errorMessage});case"ERROR-PASSWORD":return Object(x.a)(Object(x.a)({},e),{},{passwordError:t.errorMessagePassword});default:return Object(x.a)({},e)}}}),ie=Object(ne.d)(ce,Object(ne.a)(se.a));window.store=ie,s.a.render(Object(l.jsx)(v.a,{store:ie,children:Object(l.jsx)(re,{})}),document.getElementById("root")),ae()}},[[76,1,2]]]);
//# sourceMappingURL=main.bdaffff5.chunk.js.map